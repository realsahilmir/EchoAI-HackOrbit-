{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sahil Mir\\\\Downloads\\\\echo-ai-complete\\\\frontend\\\\src\\\\components\\\\VoiceRecorder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VoiceRecorder({\n  onTranscribe\n}) {\n  _s();\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const chunksRef = useRef([]);\n  const handleStartRecording = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    mediaRecorderRef.current = new MediaRecorder(stream);\n    chunksRef.current = [];\n    mediaRecorderRef.current.ondataavailable = event => {\n      if (event.data.size > 0) {\n        chunksRef.current.push(event.data);\n      }\n    };\n    mediaRecorderRef.current.onstop = async () => {\n      const blob = new Blob(chunksRef.current, {\n        type: 'audio/webm'\n      });\n      const formData = new FormData();\n      formData.append('audio', blob, 'audio.webm');\n      try {\n        const res = await axios.post('http://localhost:5000/transcribe', formData);\n        const processed = await axios.post('http://localhost:5000/process', {\n          text: res.data.transcript\n        });\n        onTranscribe({\n          text: res.data.transcript,\n          summary: processed.data.summary,\n          tags: processed.data.tags\n        });\n      } catch (error) {\n        console.error('Error uploading audio:', error);\n      }\n    };\n    mediaRecorderRef.current.start();\n    setRecording(true);\n  };\n  const handleStopRecording = () => {\n    mediaRecorderRef.current.stop();\n    setRecording(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: recording ? handleStopRecording : handleStartRecording,\n      children: recording ? 'Stop Recording' : 'Start Recording'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(VoiceRecorder, \"BVEtJSUBCsfe2+TcDjhEqTf8B44=\");\n_c = VoiceRecorder;\nexport default VoiceRecorder;\nvar _c;\n$RefreshReg$(_c, \"VoiceRecorder\");","map":{"version":3,"names":["React","useState","useRef","axios","jsxDEV","_jsxDEV","VoiceRecorder","onTranscribe","_s","recording","setRecording","mediaRecorderRef","chunksRef","handleStartRecording","stream","navigator","mediaDevices","getUserMedia","audio","current","MediaRecorder","ondataavailable","event","data","size","push","onstop","blob","Blob","type","formData","FormData","append","res","post","processed","text","transcript","summary","tags","error","console","start","handleStopRecording","stop","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Sahil Mir/Downloads/echo-ai-complete/frontend/src/components/VoiceRecorder.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\n\nfunction VoiceRecorder({ onTranscribe }) {\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const chunksRef = useRef([]);\n\n  const handleStartRecording = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    mediaRecorderRef.current = new MediaRecorder(stream);\n    chunksRef.current = [];\n\n    mediaRecorderRef.current.ondataavailable = (event) => {\n      if (event.data.size > 0) {\n        chunksRef.current.push(event.data);\n      }\n    };\n\n    mediaRecorderRef.current.onstop = async () => {\n      const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n      const formData = new FormData();\n      formData.append('audio', blob, 'audio.webm');\n\n      try {\n        const res = await axios.post('http://localhost:5000/transcribe', formData);\n        const processed = await axios.post('http://localhost:5000/process', {\n          text: res.data.transcript,\n        });\n        onTranscribe({\n          text: res.data.transcript,\n          summary: processed.data.summary,\n          tags: processed.data.tags,\n        });\n      } catch (error) {\n        console.error('Error uploading audio:', error);\n      }\n    };\n\n    mediaRecorderRef.current.start();\n    setRecording(true);\n  };\n\n  const handleStopRecording = () => {\n    mediaRecorderRef.current.stop();\n    setRecording(false);\n  };\n\n  return (\n    <div>\n      <button onClick={recording ? handleStopRecording : handleStartRecording}>\n        {recording ? 'Stop Recording' : 'Start Recording'}\n      </button>\n    </div>\n  );\n}\n\nexport default VoiceRecorder;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,aAAaA,CAAC;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMU,gBAAgB,GAAGT,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMU,SAAS,GAAGV,MAAM,CAAC,EAAE,CAAC;EAE5B,MAAMW,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC;IACzEP,gBAAgB,CAACQ,OAAO,GAAG,IAAIC,aAAa,CAACN,MAAM,CAAC;IACpDF,SAAS,CAACO,OAAO,GAAG,EAAE;IAEtBR,gBAAgB,CAACQ,OAAO,CAACE,eAAe,GAAIC,KAAK,IAAK;MACpD,IAAIA,KAAK,CAACC,IAAI,CAACC,IAAI,GAAG,CAAC,EAAE;QACvBZ,SAAS,CAACO,OAAO,CAACM,IAAI,CAACH,KAAK,CAACC,IAAI,CAAC;MACpC;IACF,CAAC;IAEDZ,gBAAgB,CAACQ,OAAO,CAACO,MAAM,GAAG,YAAY;MAC5C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAChB,SAAS,CAACO,OAAO,EAAE;QAAEU,IAAI,EAAE;MAAa,CAAC,CAAC;MAChE,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,EAAE,YAAY,CAAC;MAE5C,IAAI;QACF,MAAMM,GAAG,GAAG,MAAM9B,KAAK,CAAC+B,IAAI,CAAC,kCAAkC,EAAEJ,QAAQ,CAAC;QAC1E,MAAMK,SAAS,GAAG,MAAMhC,KAAK,CAAC+B,IAAI,CAAC,+BAA+B,EAAE;UAClEE,IAAI,EAAEH,GAAG,CAACV,IAAI,CAACc;QACjB,CAAC,CAAC;QACF9B,YAAY,CAAC;UACX6B,IAAI,EAAEH,GAAG,CAACV,IAAI,CAACc,UAAU;UACzBC,OAAO,EAAEH,SAAS,CAACZ,IAAI,CAACe,OAAO;UAC/BC,IAAI,EAAEJ,SAAS,CAACZ,IAAI,CAACgB;QACvB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC;IAED7B,gBAAgB,CAACQ,OAAO,CAACuB,KAAK,CAAC,CAAC;IAChChC,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMiC,mBAAmB,GAAGA,CAAA,KAAM;IAChChC,gBAAgB,CAACQ,OAAO,CAACyB,IAAI,CAAC,CAAC;IAC/BlC,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,oBACEL,OAAA;IAAAwC,QAAA,eACExC,OAAA;MAAQyC,OAAO,EAAErC,SAAS,GAAGkC,mBAAmB,GAAG9B,oBAAqB;MAAAgC,QAAA,EACrEpC,SAAS,GAAG,gBAAgB,GAAG;IAAiB;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC1C,EAAA,CApDQF,aAAa;AAAA6C,EAAA,GAAb7C,aAAa;AAsDtB,eAAeA,aAAa;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}