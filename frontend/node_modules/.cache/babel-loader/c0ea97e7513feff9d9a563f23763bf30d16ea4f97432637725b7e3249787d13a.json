{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sahil Mir\\\\Downloads\\\\echo-ai-complete\\\\frontend\\\\src\\\\VoiceRecorder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VoiceRecorder({\n  onTranscribe\n}) {\n  _s();\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const handleStart = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        const formData = new FormData();\n        formData.append(\"audio\", blob, \"recording.webm\");\n        try {\n          const res = await axios.post(\"http://localhost:5000/transcribe\", formData);\n          const processed = await axios.post(\"http://localhost:5000/process\", {\n            text: res.data.transcript\n          });\n          onTranscribe({\n            text: res.data.transcript,\n            summary: processed.data.summary,\n            tags: processed.data.tags\n          });\n        } catch (err) {\n          console.error(\"Error processing audio:\", err);\n        }\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setRecording(true);\n    } catch (err) {\n      console.error(\"Mic access denied or error:\", err);\n    }\n  };\n  const handleStop = () => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop();\n      setRecording(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: recording ? handleStop : handleStart,\n      children: recording ? \"üõë Stop Recording\" : \"üéôÔ∏è Start Recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(VoiceRecorder, \"iihCjkzL20K33vHj1iywA3a+uCE=\");\n_c = VoiceRecorder;\nexport default VoiceRecorder;\nvar _c;\n$RefreshReg$(_c, \"VoiceRecorder\");","map":{"version":3,"names":["React","useState","useRef","axios","jsxDEV","_jsxDEV","VoiceRecorder","onTranscribe","_s","recording","setRecording","mediaRecorderRef","audioChunksRef","handleStart","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","current","ondataavailable","event","data","size","push","onstop","blob","Blob","type","formData","FormData","append","res","post","processed","text","transcript","summary","tags","err","console","error","start","handleStop","stop","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Sahil Mir/Downloads/echo-ai-complete/frontend/src/VoiceRecorder.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\n\nfunction VoiceRecorder({ onTranscribe }) {\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  const handleStart = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        const blob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        const formData = new FormData();\n        formData.append(\"audio\", blob, \"recording.webm\");\n\n        try {\n          const res = await axios.post(\"http://localhost:5000/transcribe\", formData);\n          const processed = await axios.post(\"http://localhost:5000/process\", {\n            text: res.data.transcript\n          });\n\n          onTranscribe({\n            text: res.data.transcript,\n            summary: processed.data.summary,\n            tags: processed.data.tags\n          });\n\n        } catch (err) {\n          console.error(\"Error processing audio:\", err);\n        }\n      };\n\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setRecording(true);\n    } catch (err) {\n      console.error(\"Mic access denied or error:\", err);\n    }\n  };\n\n  const handleStop = () => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop();\n      setRecording(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={recording ? handleStop : handleStart}>\n        {recording ? \"üõë Stop Recording\" : \"üéôÔ∏è Start Recording\"}\n      </button>\n    </div>\n  );\n}\n\nexport default VoiceRecorder;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,aAAaA,CAAC;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMU,gBAAgB,GAAGT,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMU,cAAc,GAAGV,MAAM,CAAC,EAAE,CAAC;EAEjC,MAAMW,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,MAAMC,aAAa,GAAG,IAAIC,aAAa,CAACN,MAAM,CAAC;MAC/CF,cAAc,CAACS,OAAO,GAAG,EAAE;MAE3BF,aAAa,CAACG,eAAe,GAAGC,KAAK,IAAI;QACvC,IAAIA,KAAK,CAACC,IAAI,CAACC,IAAI,GAAG,CAAC,EAAE;UACvBb,cAAc,CAACS,OAAO,CAACK,IAAI,CAACH,KAAK,CAACC,IAAI,CAAC;QACzC;MACF,CAAC;MAEDL,aAAa,CAACQ,MAAM,GAAG,YAAY;QACjC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACjB,cAAc,CAACS,OAAO,EAAE;UAAES,IAAI,EAAE;QAAa,CAAC,CAAC;QACrE,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,EAAE,gBAAgB,CAAC;QAEhD,IAAI;UACF,MAAMM,GAAG,GAAG,MAAM/B,KAAK,CAACgC,IAAI,CAAC,kCAAkC,EAAEJ,QAAQ,CAAC;UAC1E,MAAMK,SAAS,GAAG,MAAMjC,KAAK,CAACgC,IAAI,CAAC,+BAA+B,EAAE;YAClEE,IAAI,EAAEH,GAAG,CAACV,IAAI,CAACc;UACjB,CAAC,CAAC;UAEF/B,YAAY,CAAC;YACX8B,IAAI,EAAEH,GAAG,CAACV,IAAI,CAACc,UAAU;YACzBC,OAAO,EAAEH,SAAS,CAACZ,IAAI,CAACe,OAAO;YAC/BC,IAAI,EAAEJ,SAAS,CAACZ,IAAI,CAACgB;UACvB,CAAC,CAAC;QAEJ,CAAC,CAAC,OAAOC,GAAG,EAAE;UACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;QAC/C;MACF,CAAC;MAED9B,gBAAgB,CAACU,OAAO,GAAGF,aAAa;MACxCA,aAAa,CAACyB,KAAK,CAAC,CAAC;MACrBlC,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,CAAC,OAAO+B,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC;IACnD;EACF,CAAC;EAED,MAAMI,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIlC,gBAAgB,CAACU,OAAO,EAAE;MAC5BV,gBAAgB,CAACU,OAAO,CAACyB,IAAI,CAAC,CAAC;MAC/BpC,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACEL,OAAA;IAAA0C,QAAA,eACE1C,OAAA;MAAQ2C,OAAO,EAAEvC,SAAS,GAAGoC,UAAU,GAAGhC,WAAY;MAAAkC,QAAA,EACnDtC,SAAS,GAAG,mBAAmB,GAAG;IAAqB;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC5C,EAAA,CA7DQF,aAAa;AAAA+C,EAAA,GAAb/C,aAAa;AA+DtB,eAAeA,aAAa;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}